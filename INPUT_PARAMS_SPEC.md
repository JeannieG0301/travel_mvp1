# 用户输入参数规范

> 本文件为行程规划用户输入的权威定义。**当 `src/types.py` 中 `UserInput` 或相关常量变更时，必须同步更新此文件。**
>
> 数据来源：`src/types.py`、`src/lib/prompt.py`、`src/destinations/new_zealand.py`

## 一、参数总览

| 字段名 | 中文名称 | 必填 | 类型 | 说明 |
|--------|----------|------|------|------|
| landing_city | 落地城市 | 是 | string | 国际航班落地的城市 |
| region | 游览区域 | 是 | string | 计划游览的地理范围 |
| month | 出发月份 | 是 | int | 1–12 |
| days | 游玩天数 | 是 | int | 1–100，不含飞行日 |
| travelers | 出行人数 | 是 | int | 1–5 |
| landing_time | 落地时间 | 否 | string | 航班落地的大致时段 |
| departure_time | 离程时间 | 否 | string | 返程航班的大致时段 |
| styles | 旅行风格 | 否 | list[str] | 最多 5 个标签 |
| budget_level | 预算级别 | 否 | string | 经济/舒适 |
| must_see | 必去清单 | 否 | string | 自由文本 |

---

## 二、必填参数

### 2.1 landing_city（落地城市）

| 属性 | 值 |
|------|-----|
| 必填 | 是 |
| 类型 | `str` |
| 选项 | `奥克兰`、`基督城` |

**校验规则**：必须是 `VALID_LANDING_CITIES` 中的值之一。

---

### 2.2 region（游览区域）

| 属性 | 值 |
|------|-----|
| 必填 | 是 |
| 类型 | `str` |
| 选项 | `北岛`、`南岛`、`南北岛都玩` |

**校验规则**：必须是 `VALID_REGIONS` 中的值之一。

---

### 2.3 month（出发月份）

| 属性 | 值 |
|------|-----|
| 必填 | 是 |
| 类型 | `int` |
| 取值范围 | 1–12 |

**校验规则**：`1 <= month <= 12`。

---

### 2.4 days（游玩天数）

| 属性 | 值 |
|------|-----|
| 必填 | 是 |
| 类型 | `int` |
| 取值范围 | 1–100 |

**说明**：不含飞行日，即实际在当地游玩的天数。

**校验规则**：`1 <= days <= 100`。

---

### 2.5 travelers（出行人数）

| 属性 | 值 |
|------|-----|
| 必填 | 是 |
| 类型 | `int` |
| 取值范围 | 1–5 |

**校验规则**：`1 <= travelers <= 5`。

---

## 三、可选参数

### 3.1 landing_time（落地时间）

| 属性 | 值 |
|------|-----|
| 必填 | 否 |
| 类型 | `str` |
| 默认值 | `""` |
| 选项 | `早上`、`下午`、`傍晚`、`深夜` |

**校验规则**：若不为空，必须是 `VALID_TIME_SLOTS` 中的值之一。

---

### 3.2 departure_time（离程时间）

| 属性 | 值 |
|------|-----|
| 必填 | 否 |
| 类型 | `str` |
| 默认值 | `""` |
| 选项 | `早上`、`下午`、`傍晚`、`深夜` |

**校验规则**：若不为空，必须是 `VALID_TIME_SLOTS` 中的值之一。

---

### 3.3 styles（旅行风格）

| 属性 | 值 |
|------|-----|
| 必填 | 否 |
| 类型 | `list[str] \| None` |
| 默认值 | `None` |
| 选项（可多选，最多 5 个） | `自然风光`、`户外冒险`、`城市探索`、`文化体验`、`美食之旅` |

**校验规则**：
- 若不为 `None`，`len(styles) <= 5`
- 每个元素必须在 `VALID_STYLES` 中

---

### 3.4 budget_level（预算级别）

| 属性 | 值 |
|------|-----|
| 必填 | 否 |
| 类型 | `str` |
| 默认值 | `""` |
| 选项 | `经济实惠`、`舒适享受` |

**校验规则**：若不为空，必须是 `VALID_BUDGET_LEVELS` 中的值之一。

---

### 3.5 must_see（必去清单）

| 属性 | 值 |
|------|-----|
| 必填 | 否 |
| 类型 | `str` |
| 默认值 | `""` |

**说明**：自由文本，用户可填写必须包含的景点或体验。

---

## 四、常量定义（与 `src/types.py` 一致）

```python
VALID_LANDING_CITIES = ("奥克兰", "基督城")
VALID_REGIONS = ("北岛", "南岛", "南北岛都玩")
VALID_TIME_SLOTS = ("早上", "下午", "傍晚", "深夜")
VALID_BUDGET_LEVELS = ("经济实惠", "舒适享受")
VALID_STYLES = ("自然风光", "户外冒险", "城市探索", "文化体验", "美食之旅")
```

---

## 五、与 Prompt 的映射

在 `build_user_prompt()` 中，各参数对应输出为：

| 参数 | 展示文案 |
|------|----------|
| landing_city | 落地城市：{value} |
| region | 游览区域：{value} |
| month | 出发月份：{value}月 |
| days | 游玩天数：{value}天（不含飞行日） |
| travelers | 出行人数：{value}人 |
| landing_time | 落地时间：{value}（空时显示「未提供」） |
| departure_time | 离程时间：{value}（空时显示「未提供」） |
| styles | 旅行风格：{value}（空时显示「未指定」） |
| budget_level | 预算级别：{value}（空时显示「未指定」） |
| must_see | 必去清单：{value}（空时显示「无」） |

---

## 六、更新记录

| 日期 | 变更说明 |
|------|----------|
| 2025-02-22 | 初始版本：从 `src/types.py` 提取参数定义 |
